import 'dart:async';

import 'package:tencent_kit/tencent_kit.dart';

class QqShareState {
  ///获取openId和accessToken
  late LoginResp loginResp;
  late final StreamSubscription<BaseResp> streamSubscription;
  QqShareState() {
    streamSubscription = Tencent.instance.respStream().listen((event) {
      if (event is LoginResp) {
        loginResp = event;
        print("分享：${event.openid} - ${event.accessToken}");
      } else if (event is ShareMsgResp) {
        print("分享：${event.ret} - ${event.msg}");
      }
    });
  }
}
